{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/blog/deploy-gatsby-site-to-github-pages-using-github-actions/","result":{"data":{"site":{"siteMetadata":{"siteUrl":"https://geekscreed.com"}},"post":{"fields":{"slug":"/deploy-gatsby-site-to-github-pages-using-github-actions/"},"frontmatter":{"title":"Deploy Gatsby Site to GitHub Pages using GitHub Actions","authors":[{"id":"sasivarnan","name":"Sasivarnan R","bio":"Software Engineer. Tech Enthusiast. Loves coding ðŸ’» and music ðŸŽ¼.","website":"https://geekscreed.com","twitter":"iamsasivarnan","linkedin":"sasivarnan","profile_image":"https://avatars0.githubusercontent.com/u/5305600?v=4"}],"tags":[{"id":"gatsby","name":"Gatsby","slug":"gatsby"},{"id":"web-dev","name":"Web Development","slug":"web-dev"},{"id":"github","name":"GitHub","slug":"github"}],"published_at":"03 Dec, 2019","feature_image":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#7898a8","images":{"fallback":{"src":"/static/7121a6d9018b45a47f522869e919e4cf/a57c2/ship-it.jpg","srcSet":"/static/7121a6d9018b45a47f522869e919e4cf/1b684/ship-it.jpg 180w,\n/static/7121a6d9018b45a47f522869e919e4cf/ab96f/ship-it.jpg 360w,\n/static/7121a6d9018b45a47f522869e919e4cf/a57c2/ship-it.jpg 720w,\n/static/7121a6d9018b45a47f522869e919e4cf/1086d/ship-it.jpg 1440w","sizes":"(min-width: 720px) 720px, 100vw"},"sources":[{"srcSet":"/static/7121a6d9018b45a47f522869e919e4cf/cf530/ship-it.webp 180w,\n/static/7121a6d9018b45a47f522869e919e4cf/9957b/ship-it.webp 360w,\n/static/7121a6d9018b45a47f522869e919e4cf/06df7/ship-it.webp 720w,\n/static/7121a6d9018b45a47f522869e919e4cf/53179/ship-it.webp 1440w","type":"image/webp","sizes":"(min-width: 720px) 720px, 100vw"}]},"width":720,"height":449}}}},"excerpt":"We are seeing an increase in the popularity of JAMStack. Gatsby is one of the popular JAMStack frameworks. There are a lot of tools andâ€¦","html":"<p>We are seeing an increase in the popularity of <a href=\"https://jamstack.org/\">JAMStack</a>. <a href=\"https://www.gatsbyjs.org/\">Gatsby</a> is one of the popular JAMStack frameworks.</p>\n<p>There are a lot of tools and services available to host a static site build by Gatsby. <a href=\"https://pages.github.com/\">GitHub Pages</a>, a free static site hosting service by GitHub, is one of them.</p>\n<p>In this article, we will see how to build and deploy your existing Gatsby site using <a href=\"https://github.com/features/actions\">GitHub Actions</a> on every push to GitHub repo where your site is stored.</p>\n<ul>\n<li>\n<p>In your <code>package.json</code> file, add a build script pointing to <code>gatsby build</code> (Most starters will already have it).</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"lang-json\"><code class=\"lang-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"gatsby build\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p>Create a GitHub access token by following the steps over <a href=\"https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line\">here</a>. Please note that the token must be generated with repo permissions.</p>\n</li>\n<li>\n<p>Open your GitHub repo settings, and go to the <code>Secrets</code> section. Click on <code>Add a new secret</code>. Fill <code>ACCESS_TOKEN</code> in the <code>Name</code> field and fill your generated access token from the previous step in the <code>Value</code> field. Click on the <code>Add secret</code> button.</p>\n</li>\n</ul>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.282208588957054%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABBElEQVQoz6WTu04DMRBF/fu0lJFoKBANXRo+gD9AoiQSJNkF/Io38Wvsi+yNVki7m4jE0vEUY1n3zoOJfcK3idgqD2MJOWeklC6Gbdof6M6CAKQMAPU6xilOH8a5wOd6jaZtwYVEiATnA3woxBEhxOpiDrbbGXT7A5z39fGgLQNEaUxKpxVumxYFYzoorSGEhJASSmnESJOEGUqOWefBhYKQusZiu0Sp9KTlc7Dyc7HR28kDkdKskln6D+NFSkbNitQrdCHgEDxs8EPiGtjf0aKYrlBJKP1gz80L7lZPePhYgjtVZ4boWNd/ULaklI89vi9x87rA7ds9vizv5zCf34i5OfwFDKWrRucJRm8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"GitHub Add a new secret form\"\n        title=\"GitHub Add a new secret form\"\n        src=\"/static/893421f26451f5a46182ed58fe6fdc60/a6d36/GitHub-Add_a_new_secret_form.png\"\n        srcset=\"/static/893421f26451f5a46182ed58fe6fdc60/222b7/GitHub-Add_a_new_secret_form.png 163w,\n/static/893421f26451f5a46182ed58fe6fdc60/ff46a/GitHub-Add_a_new_secret_form.png 325w,\n/static/893421f26451f5a46182ed58fe6fdc60/a6d36/GitHub-Add_a_new_secret_form.png 650w,\n/static/893421f26451f5a46182ed58fe6fdc60/e548f/GitHub-Add_a_new_secret_form.png 975w,\n/static/893421f26451f5a46182ed58fe6fdc60/3c492/GitHub-Add_a_new_secret_form.png 1300w,\n/static/893421f26451f5a46182ed58fe6fdc60/c4451/GitHub-Add_a_new_secret_form.png 1450w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">GitHub Add a new secret form</figcaption>\n  </figure></p>\n<ul>\n<li>\n<p>Now, create a yml file in following path <code>.github/workflows/deploy-on-push.yml</code> and paste the following contents to it.</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre class=\"lang-yml\"><code class=\"lang-yml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Gatsby Build and Deploy to GitHub Pages on Push\n\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> master\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">build-and-deploy</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Checkout\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@master\n\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Build and Deploy\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> JamesIves/github<span class=\"token punctuation\">-</span>pages<span class=\"token punctuation\">-</span>deploy<span class=\"token punctuation\">-</span>action@master\n        <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">ACCESS_TOKEN</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.ACCESS_TOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">BRANCH</span><span class=\"token punctuation\">:</span> gh<span class=\"token punctuation\">-</span>pages\n          <span class=\"token key atrule\">FOLDER</span><span class=\"token punctuation\">:</span> public\n          <span class=\"token key atrule\">BUILD_SCRIPT</span><span class=\"token punctuation\">:</span> yarn <span class=\"token important\">&amp;&amp;</span> yarn run build</code></pre></div>\n</li>\n<li>\n<p>Commit your changes and push them to your GitHub repo.</p>\n</li>\n</ul>\n<p>This GitHub action will trigger if any push happened to master, spawns a ubuntu instance and check out the repo. Then it will do <code>yarn</code> and <code>yarn build</code>, which will generate the output to <code>public</code> directory. The contents of the public folder will be deployed to <code>gh-pages</code> branch.</p>\n<p>Now on every push to your repo will build your site and deploy it to GitHub pages.</p>\n<p>I hope this helped you to set up the deployment of Gatsby site to GitHub Pages using GitHub actions. Feel free to ask anything around this in the comments section below.</p>"},"relatedPosts":{"totalCount":3,"edges":[{"node":{"timeToRead":3,"excerpt":"JavaScript has come a long way since its introduction in 1995. The dynamics of the language have completely changed since the adaptation ofâ€¦","fields":{"slug":"/dynamic-import-named-export/"},"frontmatter":{"title":"Dynamic Import named exports in JavaScript","published_at":"17 Feb, 2021","featured":null,"feature_image":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#282828","images":{"fallback":{"src":"/static/feeaa63df36c1ca1ec60612b85404dde/3f4ea/port.jpg","srcSet":"/static/feeaa63df36c1ca1ec60612b85404dde/3f4ea/port.jpg 600w","sizes":"(min-width: 600px) 600px, 100vw"},"sources":[{"srcSet":"/static/feeaa63df36c1ca1ec60612b85404dde/5f7b9/port.webp 600w","type":"image/webp","sizes":"(min-width: 600px) 600px, 100vw"}]},"width":600,"height":400}}},"authors":[{"id":"sasivarnan","name":"Sasivarnan R","profile_image":"https://avatars0.githubusercontent.com/u/5305600?v=4"}],"tags":[{"id":"javascript","name":"JavaScript"},{"id":"webpack","name":"Webpack"},{"id":"web-dev","name":"Web Development"}]}}},{"node":{"timeToRead":2,"excerpt":"Ever encountered a situation where you need to skip some unfinished, unpolished posts while deploying your Gatsby blog? Gatsby is awesomeâ€¦","fields":{"slug":"/draft-post-support-on-gatsby-blog/"},"frontmatter":{"title":"How to add Draft posts Support to Gatsby blog","published_at":"16 Dec, 2018","featured":true,"feature_image":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#c8c8c8","images":{"fallback":{"src":"/static/adb9176d1cd50c2a15ff91bc7ee099d2/4b314/drafts.jpg","srcSet":"/static/adb9176d1cd50c2a15ff91bc7ee099d2/4b314/drafts.jpg 600w","sizes":"(min-width: 600px) 600px, 100vw"},"sources":[{"srcSet":"/static/adb9176d1cd50c2a15ff91bc7ee099d2/2ae4e/drafts.webp 600w","type":"image/webp","sizes":"(min-width: 600px) 600px, 100vw"}]},"width":600,"height":389}}},"authors":[{"id":"sasivarnan","name":"Sasivarnan R","profile_image":"https://avatars0.githubusercontent.com/u/5305600?v=4"}],"tags":[{"id":"gatsby","name":"Gatsby"},{"id":"web-dev","name":"Web Development"},{"id":"graphql","name":"GraphQL"}]}}},{"node":{"timeToRead":5,"excerpt":"Hello folks. In this article, I am gonna share why we should stop building custom webpack config and instead use create-react-app toâ€¦","fields":{"slug":"/use-create-react-app-to-scaffold-next-react-app/"},"frontmatter":{"title":"Why you should use create-react-app to Scaffold your Next React App?","published_at":"12 Dec, 2018","featured":null,"feature_image":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/5dd2d2fd5d249486989b97a6ceab8c5a/3f4ea/react-code-macbook.jpg","srcSet":"/static/5dd2d2fd5d249486989b97a6ceab8c5a/3f4ea/react-code-macbook.jpg 600w","sizes":"(min-width: 600px) 600px, 100vw"},"sources":[{"srcSet":"/static/5dd2d2fd5d249486989b97a6ceab8c5a/5f7b9/react-code-macbook.webp 600w","type":"image/webp","sizes":"(min-width: 600px) 600px, 100vw"}]},"width":600,"height":400}}},"authors":[{"id":"sasivarnan","name":"Sasivarnan R","profile_image":"https://avatars0.githubusercontent.com/u/5305600?v=4"}],"tags":[{"id":"react","name":"React JS"},{"id":"web-dev","name":"Web Development"},{"id":"webpack","name":"Webpack"}]}}}]}},"pageContext":{"slug":"/deploy-gatsby-site-to-github-pages-using-github-actions/","tags":["gatsby","web-dev","github"]}},"staticQueryHashes":["2136327730","2367946931","3544567509"]}